# Сервис аутентификации (Auth Service)

## Основные функции

### Регистрация пользователя
- Регистрация по электронной почте и паролю
- Регистрация через OAuth (Google, Facebook и др.)

### Авторизация пользователя
- Вход по электронной почте и паролю
- Вход через OAuth

### Управление токенами
- Генерация и валидация JWT токенов доступа и обновления

### Сброс пароля
- Отправка ссылки для сброса пароля на почту

### Верификация электронной почты
- Отправка письма для подтверждения почты при регистрации

## Функциональные требования

### Безопасность
- Шифрование паролей (bcrypt или аналог)
- Защита от брутфорс-атак (ограничение попыток входа)

### Интеграция с OAuth провайдерами
- Поддержка протокола OAuth 2.0

### Масштабируемость
- Возможность обработки большого числа запросов

### Доступность
- Высокая отказоустойчивость сервиса

## Сущности и атрибуты

### UserCredentials
- user_id (UUID): Уникальный идентификатор пользователя
- email (string): Адрес электронной почты
- password_hash (string): Хэш пароля
- is_verified (boolean): Флаг подтверждения почты

### OAuthAccount
- user_id (UUID): Ссылка на UserCredentials
- provider (string): Название провайдера (например, Google)
- provider_user_id (string): Идентификатор пользователя у провайдера

### ResetPasswordToken
- token (string): Токен для сброса пароля
- user_id (UUID): Ссылка на UserCredentials
- expires_at (datetime): Время истечения токена